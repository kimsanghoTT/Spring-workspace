<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>바탕화면에 이미지 저장 폴더를 만들고 그 안에 사진 저장</title>
</head>
<body>
	<h1>바탕화면에 이미지 저장 폴더 만들기</h1>
	<pre>
		사진을 저장하고 불러올 때 sql 컬럼 자료형으로 varchar2를 사용할 수 있고
		이미지 자체를 저장하는 blob을 사용할 수 있음.
		
		db자체에 이미지를 저장하게 되면 이미지가 훼손될 가능성이 있거나 이미지를 글자로 변환할 때
		변환에 문제가 생길 가능성이 높음
		
		db 자체에 이미지를 저장하게 되면 비용이 많이 들기 때문에 많이 사용하지는 않음
		
		이미지를 저장할 때 sql 자료형(varchar2)로 이미지 경로를 설정해주고 설정한 이미지 경로를 가져오는
		방식을 진행
		
		이미지가 저장되는 경로
		src/main/resources
		/static = css/js/font 처럼 공개 가능하고 유출이 돼도 문제 없는 코드 작성
		/image = 홈페이지에서 공개가 가능하고 공통으로 사용할 수 있는 이미지
		
		회사에서 지정한 이미지 저장경로 
		= 회사가 아닌 고객이 올리거나 회사에서 비공개로 이미지를 가져오고 저장하는 경로
		
		라이브러리나 프레임워크가 설정되지 않은 js 코드는 유출이 될 가능성이 높음
		라이브러리나 프레임워크로 설정된 js는 코드 형식이 라이브러리, 프레임워크의 형식으로 되어 있어
		외부에서 코드를 유추하기 어려움
		
		만약에 사진을 저장할 폴더가 존재하지 않거나 폴더 안의 이미지 이름과 형식이 모두 일치해서 덮어씌우거나 할 때
		이미지가 저장이 안될 가능서이 있기 때문에 이미지를 저장할 때는
		
		1. 이미지를 불러오거나 저장할 경로가 존재하는지 확인
			-> 경로가 존재하지 않아 불러오지 못할 때
			: 이미지를 불러오는 데 실패했습니다. 라는 이미지 보여주기
			
			-> 이미지를 저장할 때 폴더가 존재하지 않을 경우
			: 이미지 경로 확인. 원하는 경로가 없으면 없으면 생성
			
		2. 이름이 중복될 경우
			-> 이미지를 저장할 때 이름이 중복될 경우
			: 기존에 있던 이미지와 이름, 파일 형식이 중복되면 저장 당시의 시간을 이름에 붙여서 저장함
			ex)image-2024-06-24.jpg
	</pre>
    <a th:href="@{/pigAllList}">이미지 보기</a>
    <a th:href="@{/imgUpload}">이미지 업로드</a>
</body>
</html>